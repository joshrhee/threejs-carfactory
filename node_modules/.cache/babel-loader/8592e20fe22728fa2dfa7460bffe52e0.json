{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sangjunerhee/Desktop/Git/Threejs-CarFactory/src/components/Draggable.jsx\",\n    _s = $RefreshSig$();\n\nimport { DragControls } from 'three/examples/jsm/controls/DragControls';\nimport { useRef, useEffect, useState } from 'react';\nimport { useThree, extend } from 'react-three-fiber';\nextend({\n  DragControls\n});\n\nconst Draggable = props => {\n  _s();\n\n  const groupRef = useRef();\n  const controlsRef = useRef();\n  const [children, setChildren] = useState([]);\n  const {\n    camera,\n    gl,\n    scene\n  } = useThree();\n  useEffect(() => {\n    setChildren(groupRef.current.children);\n  }, []);\n  useEffect(() => {\n    controlsRef.current.addEventListener('hoveron', e => scene.orbitControls.enabled = false);\n    controlsRef.current.addEventListener('hoveroff', e => scene.orbitControls.enabled = true);\n    controlsRef.current.addEventListener('dragstart', e => {\n      var _e$object$api;\n\n      console.log(e.object);\n      (_e$object$api = e.object.api) === null || _e$object$api === void 0 ? void 0 : _e$object$api.mass.set(0);\n    });\n    controlsRef.current.addEventListener('dragend', e => {\n      var _e$object$api2;\n\n      return (_e$object$api2 = e.object.api) === null || _e$object$api2 === void 0 ? void 0 : _e$object$api2.mass.set(1);\n    });\n    controlsRef.current.addEventListener('drag', e => {\n      var _e$object$api3, _e$object$api4;\n\n      (_e$object$api3 = e.object.api) === null || _e$object$api3 === void 0 ? void 0 : _e$object$api3.position.copy(e.object.position);\n      (_e$object$api4 = e.object.api) === null || _e$object$api4 === void 0 ? void 0 : _e$object$api4.velocity.set(0, 0, 0);\n    });\n  }, [children]);\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    ref: groupRef,\n    children: [/*#__PURE__*/_jsxDEV(\"dragControls\", {\n      transformGroup: props.transformGroup,\n      ref: controlsRef,\n      args: [children, camera, gl.domElement]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), props.children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Draggable, \"RaHb6voMzjtZjDY2D6QJDtjhS6E=\", false, function () {\n  return [useThree];\n});\n\n_c = Draggable;\nexport default Draggable;\n\nvar _c;\n\n$RefreshReg$(_c, \"Draggable\");","map":{"version":3,"sources":["/Users/sangjunerhee/Desktop/Git/Threejs-CarFactory/src/components/Draggable.jsx"],"names":["DragControls","useRef","useEffect","useState","useThree","extend","Draggable","props","groupRef","controlsRef","children","setChildren","camera","gl","scene","current","addEventListener","e","orbitControls","enabled","console","log","object","api","mass","set","position","copy","velocity","transformGroup","domElement"],"mappings":";;;;;AAAA,SACIA,YADJ,QAEO,0CAFP;AAGA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,mBAAjC;AACAA,MAAM,CAAE;AAAEL,EAAAA;AAAF,CAAF,CAAN;;AAEA,MAAMM,SAAS,GAAGC,KAAK,IAAI;AAAA;;AACvB,QAAMC,QAAQ,GAAGP,MAAM,EAAvB;AACA,QAAMQ,WAAW,GAAGR,MAAM,EAA1B;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAES,IAAAA,MAAF;AAAUC,IAAAA,EAAV;AAAcC,IAAAA;AAAd,MAAwBV,QAAQ,EAAtC;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,WAAW,CAACH,QAAQ,CAACO,OAAT,CAAiBL,QAAlB,CAAX;AACH,GAFQ,EAEP,EAFO,CAAT;AAIAR,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,WAAW,CAACM,OAAZ,CAAoBC,gBAApB,CACI,SADJ,EAEIC,CAAC,IAAIH,KAAK,CAACI,aAAN,CAAoBC,OAApB,GAA8B,KAFvC;AAIAV,IAAAA,WAAW,CAACM,OAAZ,CAAoBC,gBAApB,CACI,UADJ,EAEIC,CAAC,IAAIH,KAAK,CAACI,aAAN,CAAoBC,OAApB,GAA8B,IAFvC;AAIAV,IAAAA,WAAW,CAACM,OAAZ,CAAoBC,gBAApB,CACI,WADJ,EAEIC,CAAC,IAAI;AAAA;;AACDG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,CAAC,CAACK,MAAd;AACA,uBAAAL,CAAC,CAACK,MAAF,CAASC,GAAT,gEAAcC,IAAd,CAAmBC,GAAnB,CAAuB,CAAvB;AACH,KALL;AAOAhB,IAAAA,WAAW,CAACM,OAAZ,CAAoBC,gBAApB,CACI,SADJ,EAEIC,CAAC;AAAA;;AAAA,+BAAIA,CAAC,CAACK,MAAF,CAASC,GAAb,mDAAI,eAAcC,IAAd,CAAmBC,GAAnB,CAAuB,CAAvB,CAAJ;AAAA,KAFL;AAIAhB,IAAAA,WAAW,CAACM,OAAZ,CAAoBC,gBAApB,CACI,MADJ,EAEIC,CAAC,IAAI;AAAA;;AACD,wBAAAA,CAAC,CAACK,MAAF,CAASC,GAAT,kEAAcG,QAAd,CAAuBC,IAAvB,CAA4BV,CAAC,CAACK,MAAF,CAASI,QAArC;AACA,wBAAAT,CAAC,CAACK,MAAF,CAASC,GAAT,kEAAcK,QAAd,CAAuBH,GAAvB,CAA2B,CAA3B,EAA6B,CAA7B,EAA+B,CAA/B;AACH,KALL;AAOH,GA3BQ,EA2BP,CAACf,QAAD,CA3BO,CAAT;AA6BA,sBACI;AAAO,IAAA,GAAG,EAAEF,QAAZ;AAAA,4BACI;AACI,MAAA,cAAc,EAAED,KAAK,CAACsB,cAD1B;AAEI,MAAA,GAAG,EAAEpB,WAFT;AAGI,MAAA,IAAI,EAAE,CAACC,QAAD,EAAUE,MAAV,EAAkBC,EAAE,CAACiB,UAArB;AAHV;AAAA;AAAA;AAAA;AAAA,YADJ,EAMKvB,KAAK,CAACG,QANX;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAUH,CAjDD;;GAAMJ,S;UAI4BF,Q;;;KAJ5BE,S;AAmDN,eAAeA,SAAf","sourcesContent":["import {\n    DragControls\n} from 'three/examples/jsm/controls/DragControls';\nimport { useRef, useEffect, useState } from 'react';\nimport { useThree, extend } from 'react-three-fiber';\nextend ({ DragControls });\n\nconst Draggable = props => {\n    const groupRef = useRef();\n    const controlsRef = useRef();\n    const [children, setChildren] = useState([])\n    const { camera, gl, scene } = useThree();\n\n    useEffect(() => {\n        setChildren(groupRef.current.children)\n    },[])\n\n    useEffect(() => {\n        controlsRef.current.addEventListener(\n            'hoveron',\n            e => scene.orbitControls.enabled = false\n        )\n        controlsRef.current.addEventListener(\n            'hoveroff',\n            e => scene.orbitControls.enabled = true\n        )\n        controlsRef.current.addEventListener(\n            'dragstart',\n            e => {\n                console.log(e.object);\n                e.object.api?.mass.set(0)\n            }\n        )\n        controlsRef.current.addEventListener(\n            'dragend',\n            e => e.object.api?.mass.set(1)\n        )\n        controlsRef.current.addEventListener(\n            'drag',\n            e => {\n                e.object.api?.position.copy(e.object.position)\n                e.object.api?.velocity.set(0,0,0)\n            }\n        )\n    },[children])\n\n    return (\n        <group ref={groupRef}>\n            <dragControls\n                transformGroup={props.transformGroup}\n                ref={controlsRef}\n                args={[children,camera, gl.domElement]}\n            />\n            {props.children}\n        </group>\n    )\n}\n\nexport default Draggable;\n"]},"metadata":{},"sourceType":"module"}